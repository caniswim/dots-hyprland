# ######## Window rules ########

# Todoist - special workspace (scratchpad)
windowrule = workspace special:todoist silent, match:class ^Todoist$
windowrule = float on, size 45% 70%, center on, match:class ^Todoist$

# Obsidian - special workspace (scratchpad)
windowrule = workspace special:obsidian silent, match:class ^obsidian$
windowrule = float on, size 45% 70%, center on, match:class ^obsidian$

# Disable blur for xwayland context menus
windowrule = no_blur on, match:class ^()$, match:title ^()$

# Disable blur for every window
# windowrule = no_blur on, match:class .*

# Floating
windowrule = center on, float on, match:title ^Open File.*
windowrule = center on, float on, match:title ^Select a File.*
windowrule = center on, float on, size 60% 65%, match:title ^Choose wallpaper.*
windowrule = center on, float on, match:title ^Open Folder.*
windowrule = center on, float on, match:title ^Save As.*
windowrule = center on, float on, match:title ^Library.*
windowrule = center on, float on, match:title ^File Upload.*
windowrule = center on, float on, match:title .*wants to save$
windowrule = center on, float on, match:title .*wants to open$
windowrule = float on, match:class ^blueberry\.py$
windowrule = float on, match:class ^guifetch$   # FlafyDev/guifetch
windowrule = float on, size 45%, center on, match:class ^pavucontrol$
windowrule = float on, size 45%, center on, match:class ^org\.pulseaudio\.pavucontrol$
windowrule = float on, size 45%, center on, match:class ^nm-connection-editor$
windowrule = float on, match:class .*plasmawindowed.*
windowrule = float on, match:class ^kcm_.*
windowrule = float on, match:class .*bluedevilwizard
windowrule = float on, match:title .*Welcome
windowrule = float on, match:title ^illogical-impulse Settings$
windowrule = float on, match:title .*Shell conflicts.*
windowrule = float on, size 60% 65%, match:class ^org\.freedesktop\.impl\.portal\.desktop\.kde$
windowrule = float on, size 45%, match:class ^Zotero$
windowrule = float on, center on, match:class ^org\.gnome\.Calculator$
windowrule = float on, center on, match:class ^kitty$
windowrule = float on, center on, match:class ^org\.gnome\.Nautilus$
windowrule = float on, center on, match:class ^org\.kde\.dolphin$

# Move
# kde-material-you-colors spawns a window when changing dark/light theme. This is to make sure it doesn't interfere at all.
windowrule = float on, no_initial_focus on, move 999999 999999, match:class ^plasma-changeicons$
# stupid dolphin copy
windowrule = move 40 80, match:title ^Copying — Dolphin$

# Tiling
windowrule = tile on, match:class ^dev\.warp\.Warp$

# Picture-in-Picture
windowrule = float on, keep_aspect_ratio on, move 73% 72%, size 25%, pin on, match:title ^[Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture.*

# --- Tearing ---
windowrule = immediate on, match:title .*\.exe
windowrule = immediate on, match:title .*minecraft.*
windowrule = immediate on, match:class ^steam_app.*

# Fix Jetbrain IDEs focus/rerendering problem
windowrule = no_initial_focus on, match:class ^jetbrains-.*$, match:float yes, match:title ^$|^\s$|^win\d+$

# ######## Workspace rules ########
workspace = special:special, gapsout:30
workspace = special:todoist, gapsout:30
workspace = special:obsidian, gapsout:30
# workspace = m[DP-2], gapsout:20,20,20,50  # Original
workspace = m[DP-2], gapsout:60 450 80 450  # top right bottom left (usa ESPAÇOS, não vírgulas!)

# ######## Layer rules ########
layerrule = xray on, match:namespace .*
# layerrule = no_anim on, match:namespace .*
layerrule = no_anim on, match:namespace ^walker$
layerrule = no_anim on, match:namespace ^selection$
layerrule = no_anim on, match:namespace ^overview$
layerrule = no_anim on, match:namespace ^anyrun$
layerrule = no_anim on, match:namespace ^indicator.*
layerrule = no_anim on, match:namespace ^osk$
layerrule = no_anim on, match:namespace ^hyprpicker$

layerrule = no_anim on, match:namespace ^noanim$
layerrule = blur on, match:namespace ^gtk-layer-shell$
# ignorezero removed in 0.53
layerrule = blur on, ignore_alpha 0.5, match:namespace ^launcher$
layerrule = blur on, ignore_alpha 0.69, match:namespace ^notifications$
layerrule = blur on, match:namespace ^logout_dialog$ # wlogout

# ags
layerrule = animation slide left, match:namespace ^sideleft.*
layerrule = animation slide right, match:namespace ^sideright.*
layerrule = blur on, match:namespace ^session[0-9]*$
layerrule = blur on, ignore_alpha 0.6, match:namespace ^bar[0-9]*$
layerrule = blur on, ignore_alpha 0.6, match:namespace ^barcorner.*
layerrule = blur on, ignore_alpha 0.6, match:namespace ^dock[0-9]*$
layerrule = blur on, ignore_alpha 0.6, match:namespace ^indicator.*
layerrule = blur on, ignore_alpha 0.6, match:namespace ^overview[0-9]*$
layerrule = blur on, ignore_alpha 0.6, match:namespace ^cheatsheet[0-9]*$
layerrule = blur on, ignore_alpha 0.6, match:namespace ^sideright[0-9]*$
layerrule = blur on, ignore_alpha 0.6, match:namespace ^sideleft[0-9]*$
layerrule = blur on, ignore_alpha 0.6, match:namespace ^osk[0-9]*$

# Quickshell
layerrule = blur_popups on, blur on, ignore_alpha 0.79, match:namespace ^quickshell:.*
# Overlay widgets com blur
layerrule = blur on, ignore_alpha 0.1, match:namespace ^quickshell:macClock$
layerrule = blur on, ignore_alpha 0.1, match:namespace ^quickshell:macCalendar$
layerrule = blur on, ignore_alpha 0.1, match:namespace ^quickshell:googleCalendar$
layerrule = animation slide, match:namespace ^quickshell:bar$
layerrule = no_anim on, match:namespace ^quickshell:actionCenter$
layerrule = animation slide bottom, match:namespace ^quickshell:cheatsheet$
layerrule = animation slide bottom, match:namespace ^quickshell:dock$
layerrule = animation popin 120%, match:namespace ^quickshell:screenCorners$
layerrule = no_anim on, match:namespace ^quickshell:lockWindowPusher$
layerrule = animation fade, match:namespace ^quickshell:notificationPopup$
layerrule = no_anim on, ignore_alpha 1, match:namespace ^quickshell:overlay$
layerrule = no_anim on, match:namespace ^quickshell:overview$
layerrule = animation slide bottom, match:namespace ^quickshell:osk$
layerrule = no_anim on, match:namespace ^quickshell:polkit$
layerrule = xray off, ignore_alpha 1, match:namespace ^quickshell:popup$ # No weird color for bar tooltips
layerrule = ignore_alpha 1, match:namespace ^quickshell:mediaControls$
layerrule = animation slide, match:namespace ^quickshell:reloadPopup$
layerrule = no_anim on, match:namespace ^quickshell:regionSelector$
layerrule = no_anim on, match:namespace ^quickshell:screenshot$
layerrule = blur on, no_anim on, ignore_alpha 0, match:namespace ^quickshell:session$
layerrule = animation slide right, match:namespace ^quickshell:sidebarRight$
layerrule = animation slide left, match:namespace ^quickshell:sidebarLeft$
layerrule = animation slide, match:namespace ^quickshell:verticalBar$
layerrule = animation slide top, match:namespace ^quickshell:wallpaperSelector$
layerrule = no_anim on, match:namespace ^quickshell:wNotificationCenter$
layerrule = no_anim on, match:namespace ^quickshell:wOnScreenDisplay$
layerrule = no_anim on, match:namespace ^quickshell:wStartMenu$

# Launchers need to be FAST
layerrule = no_anim on, match:namespace ^gtk4-layer-shell$
